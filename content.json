{"pages":[{"title":"about","text":"","link":"/about/"}],"posts":[{"title":"CF1304A Two Rabbits","text":"A. Two RabbitsåŸé¢˜ä¼ é€é—¨ Problem Restatementä¸¤ä¸ªå…”å­ä»¥æ’å®šé€Ÿåº¦ç›¸å‘è€Œè¡Œï¼Œæ±‚ç›¸é‡æ—¶é—´ï¼Ÿè‹¥æ— æ³•åœ¨æ•´æ—¶é—´ç›¸é‡ï¼Œè¾“å‡º$-1$ Solutionç›¸é‡é—®é¢˜ï¼Œè·ç¦»é™¤ä»¥æ€»é€Ÿåº¦ä¸ºæ—¶é—´ï¼Œçœ‹æ—¶é—´æ˜¯å¦ä¸ºæ•´æ•°å³å¯ã€‚ Code123456789101112131415161718#include &lt;bits/stdc++.h&gt;void solve(){ int x,y,a,b; scanf(\"%d %d %d %d\", &amp;x, &amp;y, &amp;a, &amp;b); if((y-x)%(a+b)==0) printf(\"%d\\n\", (y-x)/(a+b)); else printf(\"-1\\n\");}int main(){ int T=1; scanf(\"%d\", &amp;T); while(T--){ solve(); } return 0;}","link":"/Codeforces/Round-620-Div-2/CF1304A/"},{"title":"CF1304B Longest Palindrome","text":"B. Longest PalindromeåŸé¢˜ä¼ é€é—¨ Problem Restatementç»™å‡ºnä¸ªï¼Œé•¿åº¦ä¸ºmçš„å­—ç¬¦ä¸²ã€‚$(1â‰¤ğ‘›â‰¤100,1â‰¤mâ‰¤50) $ ç”¨éƒ¨åˆ†æˆ–å…¨éƒ¨å­—ç¬¦ä¸²ï¼Œåœ¨ä¸€å®šçš„é¡ºåºæ‹¼æ¥ä¸‹ï¼Œæ‹¼å‡ºæœ€é•¿çš„å›æ–‡ä¸²ã€‚ Solutionæ•°æ®å°ï¼Œç›´æ¥é…å¯¹å³å¯ã€‚ å¯¹äºæ¯ä¸ªä¸²å¯»æ‰¾æ˜¯å¦å­˜åœ¨å…¶å…±è½­ä¸²ï¼ˆå³ä¸€æ­£ä¸€åï¼‰ï¼Œè‹¥å­˜åœ¨åˆ™æ”¾ç½®åœ¨ä¸²ä¸¤å¤´ã€‚ å¦åˆ™ï¼Œçœ‹æ˜¯å¦è¯¥ä¸²æœ¬å°±æ˜¯å›æ–‡ï¼Œè‹¥æ˜¯åˆ™æ”¾ç½®ä¸­é—´ã€‚ Code1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768#include &lt;bits/stdc++.h&gt;using namespace std;int n,m;bool ispair(char *s1,char *s2){ for(int i=0;i&lt;m;i++){ if(s1[i]!=s2[m-i-1]) return 0; } return 1;}bool ispalindrome(char *s1){ for(int i=0;i&lt;m;i++){ if(s1[i]!=s1[m-i-1]) return 0; } return 1;}char s[105][105];bool flag[105];list&lt;int&gt; li;void solve(){ scanf(\"%d %d\", &amp;n, &amp;m); for(int i=1;i&lt;=n;i++) scanf(\"%s\", s[i]); memset(flag+1,0,n*sizeof(flag[0])); li.clear(); int mid=0; for(int i=1;i&lt;=n;i++){ if(flag[i]) continue; for(int j=i+1;j&lt;=n;j++){ if(flag[j]) continue; if(ispair(s[i],s[j])){ flag[i]=flag[j]=1; li.push_front(i); li.push_back(j); break; } } if(!flag[i] &amp;&amp; !mid){ if(ispalindrome(s[i])) mid=i; } } if(mid) printf(\"%lu\\n\", m*li.size()+m); else printf(\"%lu\\n\", m*li.size()); if(li.size()==0 &amp;&amp; mid){ printf(\"%s\\n\", s[mid]); } else{ int cnt=0; for(auto t:li){ cnt++; printf(\"%s\", s[t]); if(cnt==li.size()/2) printf(\"%s\", s[mid]); } }}int main(){ int T=1; // scanf(\"%d\", &amp;T); while(T--){ solve(); } return 0;}","link":"/Codeforces/Round-620-Div-2/CF1304B/"},{"title":"CF1304C Air Conditioner","text":"C. Air ConditioneråŸé¢˜ä¼ é€é—¨ Problem RestatementGildongçš„é¤å…æ¯å•ä½æ—¶é—´æœ€å¤šä¸Šä¸‹è°ƒæ•´$1$å•ä½æ¸©åº¦ã€‚ å¯¹äºæŸäº›æ—¶åˆ»ï¼Œæ€»å…±ç»™å‡º$n$ä¸ªåŒºé—´ï¼Œé—®æ˜¯å¦å¯ä»¥ä½¿å¾—æ¯ä¸€æ—¶åˆ»çš„æ¸©åº¦ä¿æŒåœ¨è¿™äº›åŒºé—´é‡Œé¢ã€‚ $(1â‰¤ğ‘›â‰¤100)$ Solutionæœ‰ç‚¹åƒâ€œæ¥å…ƒå®â€é‚£ä¸€ç±»çš„é¢˜ã€‚ä¸è¿‡è¿™é¢˜åªéœ€è¦åˆ¤æ–­æ˜¯å¦å¯ä»¥ï¼Œè€Œä¸éœ€è¦æ‰¾åˆ°æœ€å¤šèƒ½ä¿è¯å¤šå°‘ä¸ªã€‚é‚£ä¹ˆé—®é¢˜å°±å¾ˆç®€å•äº†ã€‚ æŠ›å¼€é™åˆ¶åŒºé—´æ€è€ƒï¼Œä»åˆå§‹æ¸©åº¦$m$å¼€å§‹ï¼Œç»è¿‡$1$å•ä½æ—¶é—´ï¼Œå…¶å®å°±ç›¸å½“äºå¯ä»¥å­˜åœ¨çš„æ¸©åº¦å˜æˆä¸€ä¸ªåŒºé—´$[m-1,m+1]$ã€‚ä»¥æ­¤ç±»æ¨æˆ‘ä»¬å¯ä»¥æ±‚å‡ºæ¥ï¼Œæ— â€œé™åˆ¶åŒºé—´â€æƒ…å†µä¸‹ï¼Œä»»æ„æ—¶åˆ»çš„å¯è°ƒèŠ‚æ¸©åº¦åŒºé—´ã€‚ è®¨è®ºé™åˆ¶åŒºé—´æ—¶ï¼Œé¦–å…ˆï¼Œå¦‚æœèƒ½ä¿æŒæ¸©åº¦åœ¨é™åˆ¶åŒºé—´é‡Œé¢ï¼Œé‚£ä¹ˆåŒä¸€æ—¶åˆ»çš„å¤šä¸ªåŒºé—´å¿…é¡»æœ‰ä¸€ä¸ªå…¬å…±åŒºé—´æˆ–è€…å…¬å…±ç‚¹ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å¯¹è¿™ä¸ªå…¬å…±åŒºé—´/ç‚¹è¿›è¡Œè®¨è®ºå³å¯ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®¤å®šï¼ŒåŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªé™åˆ¶åŒºé—´ã€‚ é™åˆ¶åŒºé—´æœ¬èº«å·²ç»æ’å¥½åºï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æŒ‰ç…§æ—¶é—´é¡ºåºï¼Œåˆå¹¶åŒä¸€æ—¶åˆ»åŒºé—´ï¼Œç„¶åæŒ‰é¡ºåºåˆ¤æ–­æ˜¯å¦ä»»ä¸€æ—¶åˆ»å¯è°ƒèŠ‚æ¸©åº¦åŒºé—´ä¸é™åˆ¶åŒºé—´æ˜¯å¦æœ‰é‡å åŒºé—´å³å¯ï¼ŒåŒæ—¶ä¹Ÿåˆå¹¶åŒºé—´ã€‚ Code1234567891011121314151617181920212223242526272829303132333435#include &lt;bits/stdc++.h&gt;using namespace std;int n,m,tl,tr;int ti[105],l[105],r[105];void solve(){ scanf(\"%d %d\", &amp;n, &amp;m); for(int i=1;i&lt;=n;i++) scanf(\"%d %d %d\", &amp;ti[i], &amp;l[i], &amp;r[i]); tl=tr=m; ti[0]=0; for(int i=1,j=1;i&lt;=n;i=j){ tl-=ti[i]-ti[i-1], tr+=ti[i]-ti[i-1]; tl=max(tl,l[i]), tr=min(tr,r[i]); for(j=i+1;j&lt;=n &amp;&amp; ti[j]==ti[j-1];j++){ tl=max(tl,l[j]); tr=min(tr,r[j]); } if(tl&gt;tr){ printf(\"NO\\n\"); return; } } printf(\"YES\\n\");}int main(){ int T=1; scanf(\"%d\", &amp;T); while(T--){ solve(); } return 0;}","link":"/Codeforces/Round-620-Div-2/CF1304C/"},{"title":"CF1304D Shortest and Longest LIS","text":"D. Shortest and Longest LISåŸé¢˜ä¼ é€é—¨ Problem Restatementç»™å‡ºä¸€ä¸ªåºåˆ—ç›¸é‚»çš„å¤§å°å…³ç³»ï¼Œæ„é€ ç›¸åº”é•¿åº¦æ»¡è¶³å¤§å°å…³ç³»çš„æ’åˆ—ï¼Œä½¿å¾—æœ€é•¿ä¸Šå‡å­åºåˆ—æœ€çŸ­æˆ–æœ€é•¿ã€‚ Solutionè€ƒè™‘åˆ°ç»™å‡ºçš„æ˜¯ç›¸é‚»çš„é€’å¢é€’å‡ï¼Œæˆ‘ä»¬ä¼šå‘ç°åºåˆ—æ˜¯ç”±ä¸€æ®µä¸Šå¡ä¸€æ®µä¸‹å¡ç±»ä¼¼ç»„åˆè€Œæˆã€‚è€Œä¸Šå¡çš„åœ°æ–¹è‚¯å®šæ˜¯æœ€é•¿ä¸Šå‡å­åºåˆ—ã€‚ å®šä¹‰ï¼šå‘ = ä¸€ä¸ªä¸‹å¡ï¼ˆæˆ–æ²¡æœ‰ï¼‰+ä¸€ä¸ªä¸Šå¡ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“å¾—å‡ºæœ€çŸ­çš„æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œæœ€çŸ­ä¸ºå…¶ä¸­æœ€é•¿çš„â€œä¸Šå¡â€ã€‚é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦ä¿è¯è¿™äº›ä¸Šå¡ä¸ä¼šè¢«å‰é¢å’Œåé¢ç»­ä¸Šå³å¯ã€‚æˆ‘ä»¬å®é™…æ„é€ é‡‡å–è´ªå¿ƒï¼Œä»æœ€å·¦è¾¹çš„å‘å¼€å§‹ä»å¤§åˆ°å°å¡«æ•°å³å¯ã€‚ åŒç†ï¼Œæœ€é•¿çš„æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œå³è®©æ‰€æœ‰çš„ä¸Šå¡éƒ½ç»­ä¸Šï¼Œå¯ä»¥è¯æ˜ç»­ä¸Šæœ€å¤šå¯ä»¥ä¸ºï¼ˆä¸Šå¡çš„å…ƒç´ ä¸ªæ•°ä¹‹å’Œ - ä¸Šå¡çš„ä¸ªæ•° + 1ï¼‰ã€‚åŒæ ·ï¼Œè´ªå¿ƒæ„é€ å³å¯ï¼Œä»å·¦è¾¹å¼€å§‹ï¼Œä¸‹å¡å€’ç€å¡«ï¼Œä¸Šå¡é¡ºç€å¡«ã€‚ Code1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;bits/stdc++.h&gt;#define MAXN 200005using namespace std;int n,m,a[MAXN];char s[MAXN];void solve(){ int cnt,rcnt; scanf(\"%d\", &amp;n); scanf(\"%s\", s); memset(a,0,n*sizeof(a[0])); rcnt=n; for(int i=0,j,k;i&lt;=n-1;i=j+1){ while(i&lt;=n-2 &amp;&amp; s[i]=='&gt;') a[i++]=rcnt--; for(j=i;j&lt;=n-2 &amp;&amp; s[j]=='&lt;';j++); for(k=j;k&gt;=i;k--) a[k]=rcnt--; } for(int i=0;i&lt;n;i++) printf(\"%d \", a[i]); puts(\"\"); memset(a,0,n*sizeof(a[0])); cnt=1,rcnt=n; if(s[n-2]=='&lt;') a[n-1]=rcnt--; for(int i=0;i&lt;=n-2;i++){ if(s[i]=='&lt;') a[i]=cnt++; else a[i]=rcnt--; } if(s[n-2]=='&gt;') a[n-1]=cnt; for(int i=0;i&lt;n;i++) printf(\"%d \", a[i]); puts(\"\");}int main(){ int T=1; scanf(\"%d\", &amp;T); while(T--){ solve(); } return 0;}","link":"/Codeforces/Round-620-Div-2/CF1304D/"},{"title":"CF1304E 1-Trees and Queries","text":"E. 1-Trees and QueriesåŸé¢˜ä¼ é€é—¨ Problem Restatementç»™å‡ºä¸€ä¸ª$n$ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œæ¯æ¬¡è¯¢é—®ï¼Œè¿ç»“$x$ä¸$y$èŠ‚ç‚¹ï¼Œé—®$a$åˆ°$b$èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ä¸€æ¡è·¯å¾„ï¼Œä½¿å¾—é•¿åº¦ä¸º$k$ï¼ˆç‚¹å’Œè¾¹ å¯é‡å¤èµ°ï¼‰ã€‚ $( 3 \\le n \\le 10^5, 1 \\le q \\le 10^5)$ Solutionå¦‚æœæ²¡è¿ç»“$x$å’Œ$y$èŠ‚ç‚¹ï¼Œåˆ™$a$åˆ°$b$ä¹‹é—´çš„æœ€çŸ­è·¯æ˜¯å”¯ä¸€çš„ï¼Œè€Œä¸”ç”±äºæ ‘æ²¡æœ‰ç¯ï¼Œæ‰€ä»¥åœ¨æœ€çŸ­è·¯çš„åŸºç¡€ä¸Šï¼Œåªèƒ½ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æ¥å›â€œè¹­â€ï¼ˆè¹­å°±æ˜¯èµ°åˆ°ç»ˆç‚¹ä¹‹åï¼Œä¸ç›¸é‚»ä¸¤ä¸ªç‚¹æ¥å›èµ°ï¼‰ï¼Œæ‰€ä»¥å¦‚æœæ±‚çš„æœ€çŸ­è·¯ä¸º$\\text{dist}(a,b)$ï¼Œé‚£ä¹ˆå”¯æœ‰å½“$\\text{dist}(a,b)\\leq k$ï¼Œè€Œä¸”$2|k-\\text{dist}(a,b)$æ—¶ï¼Œæ‰å¯ä»¥æˆç«‹ã€‚ è€ƒè™‘åˆ°ç›®å‰è¿ç»“äº†$x,y$ï¼Œè¿˜æ˜¯è€ƒè™‘$a$åˆ°$b$çš„æœ€çŸ­è·¯ã€‚æˆ‘ä»¬å¯ä»¥åˆ†å‡º3ç§æƒ…å†µã€‚ 1ã€ä¸ç»è¿‡$\\text {edge}(x,y)$çš„æœ€çŸ­è·¯ã€‚å³$\\text{dist}(a,b)$ã€‚ 2ã€å…ˆä»$a$åˆ°$x$ï¼Œç»è¿‡$\\text {edge}(x,y)$ï¼Œç„¶åä»$y$åˆ°$b$ã€‚å³$\\text{dist}(a,x)+1+\\text{dist}(y,b)$ã€‚ 3ã€å…ˆä»$b$åˆ°$x$ï¼Œç»è¿‡$\\text {edge}(x,y)$ï¼Œç„¶åä»$y$åˆ°$a$ã€‚å³$\\text{dist}(b,x)+1+\\text{dist}(y,a)$ã€‚ å¯ä»¥è¯æ˜æœ€çŸ­è·¯ä¸€å®šåœ¨è¿™ä¸‰ç§æƒ…å†µä¹‹ä¸­ï¼Œè€Œä¸”ä»»ä½•çš„è·¯éƒ½æ˜¯ä»è¿™ä¸‰æ¡è·¯ä¹‹åé‡å¤â€œè¹­â€å‡ºå»çš„ã€‚ ï¼ˆè¿™é‡Œè¯æ˜æˆ‘æ²¡æœ‰æƒ³åˆ°ç®€æ˜“è¯æ˜ï¼Œå€’æ˜¯å¯ä»¥é€šè¿‡åˆ†ç±»è®¨è®º$\\text {edge}(x,y)$çš„ä½ç½®ï¼Œæ¯”è¾ƒç¹çã€‚å¦ï¼Œè¯æ˜ä¸­å…¶å®æˆç¯ä¹‹å’Œçš„è®¨è®ºæ¯”è¾ƒç‰¹åˆ«ï¼Œè¦ç”¨åˆ°å¥‡å¶åˆ†æã€‚è¿™é‡Œç•™ç»™è¯»è€…å½“è¯¾åä¹ é¢˜ã€‚ï¼‰ æ€»ä¹‹ï¼Œå¦‚æœä¸èƒ½è¢«è¿™ä¸‰ç§æƒ…å†µâ€œè¹­â€å‡ºæ¥ï¼Œé‚£ä¹ˆå°±æ˜¯æ— æ³•æ„é€ çš„ã€‚ Code123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990#include &lt;bits/stdc++.h&gt;#define MAXN 100005#define MAXLN 20using namespace std;struct edge{ int to,next;}e[MAXN&lt;&lt;1];int tot,head[MAXN];void add(int x,int y){ tot++; e[tot].to=y; e[tot].next=head[x]; head[x]=tot;}int dep[MAXN],lgd[MAXN],st[MAXN][MAXLN];void dfs(int cur,int fa){ dep[cur]=dep[fa]+1; st[cur][0]=fa; for(lgd[cur]=1;(1&lt;&lt;lgd[cur])&lt;=dep[cur];lgd[cur]++) st[cur][lgd[cur]]=st[st[cur][lgd[cur]-1]][lgd[cur]-1]; for(int p=head[cur];p;p=e[p].next){ if(e[p].to==fa) continue; dfs(e[p].to,cur); }}int lca(int x,int y){ if(dep[x]&lt;dep[y]) swap(x,y); for(int i=0;dep[x]-dep[y];i++) if((dep[x]-dep[y])&amp;(1&lt;&lt;i)) x=st[x][i]; if(x==y) return x; for(int i=lgd[x];i&gt;=0;i--) if(st[x][i]!=st[y][i]) x=st[x][i], y=st[y][i]; return st[x][0];}void solve(){ int n,q; scanf(\"%d\", &amp;n); tot=0; memset(head+1,0,n*sizeof(head[0])); for(int i=1;i&lt;n;i++){ int f,g; scanf(\"%d %d\", &amp;f, &amp;g); add(f,g); add(g,f); } dep[0]=0; dfs(1,0); scanf(\"%d\", &amp;q); for(int i=1;i&lt;=q;i++){ int x,y,a,b,k,ax,ay,ab,bx,by; scanf(\"%d %d %d %d %d\", &amp;x, &amp;y, &amp;a, &amp;b, &amp;k); ab=dep[a]+dep[b]-2*dep[lca(a,b)]; if(ab&lt;=k &amp;&amp; ((ab-k)&amp;1)==0){ printf(\"YES\\n\"); continue; } ax=dep[a]+dep[x]-2*dep[lca(a,x)]; by=dep[b]+dep[y]-2*dep[lca(b,y)]; if(ax+by+1&lt;=k &amp;&amp; ((ax+by+1-k)&amp;1)==0){ printf(\"YES\\n\"); continue; } ay=dep[a]+dep[y]-2*dep[lca(a,y)]; bx=dep[b]+dep[x]-2*dep[lca(b,x)]; if(ay+bx+1&lt;=k &amp;&amp; ((ay+bx+1-k)&amp;1)==0){ printf(\"YES\\n\"); continue; } printf(\"NO\\n\"); }}int main(){ int T=1; // scanf(\"%d\", &amp;T); while(T--){ solve(); } return 0;}","link":"/Codeforces/Round-620-Div-2/CF1304E/"},{"title":"CF1304F Animal Observation","text":"F. Animal ObservationåŸé¢˜ä¼ é€é—¨ Problem Restatementç»™å‡ºä¸€ä¸ª$n\\times m$çš„è‡ªç„¶æ•°çŸ©é˜µï¼Œç»™å®š$k$ã€‚åœ¨çŸ©é˜µçš„æ¯ä¸€è¡Œé€‰ä¸€ä¸ªç‚¹ï¼Œä½œä¸ºå·¦ä¸Šè§’ï¼Œæ”¾ç½®ä¸€ä¸ª$2\\times k$çš„çŸ©é˜µå—ï¼ˆå¦‚æœæ˜¯æœ€åä¸€è¡Œï¼Œåˆ™æ”¾ç½®$1\\times k$çš„çŸ©é˜µå—ï¼‰ã€‚ç°åœ¨è¦ä½¿å¾—ï¼Œè¿™äº›çŸ©é˜µå—æ‰€è¦†ç›–è‡ªç„¶æ•°ä¹‹å’Œæœ€å¤§ï¼Œæ±‚æœ€å¤§å€¼ã€‚ $(1â‰¤ğ‘›â‰¤50,\\ 1â‰¤k\\leq ğ‘šâ‰¤2â‹…10^4,\\ 0\\leq a_{ij}\\leq 1000) $ å¦‚å›¾ä¾¿æ˜¯ä¸€ä¸ª$4\\times 5$çš„çŸ©é˜µï¼Œå…¶ä¸­$k=2$ï¼Œå³$2\\times 2$çš„çŸ©é˜µå—ï¼ˆçº¢è‰²å’Œè“è‰²ä¸ºçŸ©é˜µå—ï¼‰ä¸ºï¼Œè¯¥æ”¾ç½®çš„æ‰€æ±‚å³ä¸ºå…¶è¦†ç›–çš„æ•°å­—ä¹‹å’Œï¼ˆé‡å¤çš„åªè®¡ç®—ä¸€éï¼‰ã€‚ Solutionä»åˆ†æ²»ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰çš„è§’åº¦æ€è€ƒï¼Œä¹Ÿå°±æ˜¯æ¯ä¸€è¡Œæ¯ä¸€åˆ—ä¹‹é—´çš„è½¬ç§»ã€‚ å®šä¹‰$dp[i][j]$ä¸ºåªè€ƒè™‘åŸçŸ©é˜µæœ‰$i\\times m$ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œé€‰æ‹©ç¬¬$i$è¡Œçš„ç¬¬$j$ä¸ªå…ƒç´ ä½œä¸ºç¬¬$i$è¡Œçš„çŸ©é˜µå—å·¦ä¸Šè§’å…ƒç´ æ—¶ï¼Œè¦†ç›–æ•°ä¹‹å’Œæœ€å¤§å€¼ã€‚ ä¹Ÿå°±æ˜¯è¯´$ans=\\max(dp[n][j])$ æ€è€ƒè½¬ç§»æ–¹ç¨‹ï¼Œæˆ‘ä»¬åœ¨æ¯å¢åŠ ä¸€è¡Œçš„åŒæ—¶ï¼Œæˆ‘ä»¬ä¸ä½†è¦ä¸ºä¸Šä¸€å±‚é€‰å®šå¯¹åº”çš„$k$ä¸ªå€¼ï¼Œè¿˜è¦ä¸ºæœ¬å±‚é€‰å®š$k$ä¸ªå€¼ï¼ŒåŒæ—¶è¿‡ç¨‹ä¸­æˆ‘ä»¬è¿˜è¦æ‰£é™¤é‡å¤(å¹¸è¿çš„æ˜¯ï¼Œæ˜¾ç„¶æœ¬é¢˜æ‰€æœ‰é‡å¤éƒ½æœ€å¤šè¢«é‡å¤ä¸€æ¬¡ï¼Œè€Œä¸”å°±åœ¨ä¸¤ä¸ªç›¸é‚»è¡Œä¹‹é—´)ã€‚ é‚£ä¹ˆå¯¹äº$dp[i][j]$æ¥è¯´ï¼Œè‚¯å®šæ˜¯è¦é€‰æ‹© $a_{i,j},a_{i,j+1}â€¦a_{i,j+k-1}$è¿™$k$ä¸ªæ•°å­—ã€‚é‚£ä¹ˆå¯¹äºè¿™$k$ä¸ªæ•°å­—ä¸­çš„ç¬¬$t$ä¸ªï¼Œä¸Šä¸€è¡Œè¦†ç›–åˆ°çš„ï¼Œæ‰€æœ‰çš„$dp[i-1][j+t-k+1]ï½dp[i-1][j+t]$ä¹‹é—´æ‰€æœ‰æ•°ï¼Œéƒ½è¦ç›¸åº”çš„$-a_{i,j+t}$ã€‚å¤„ç†å®Œä¹‹åæˆ‘ä»¬å†æ‰¾ä¸ªæœ€å¤§å€¼ï¼ŒåŠ ä¸Šå»å³å¯ã€‚ ä¹Ÿå°±æ˜¯è¯´$dp[i][j]=\\max(dp_{å¤„ç†å®Œ}[i-1][j])+\\sum\\limits_{x=j}^{j+k-1}a_{i,x}$ã€‚ ä½†æ˜¯ç›´æ¥åŒºé—´å¤„ç†+åŒºé—´æœ€å€¼çš„å¤æ‚åº¦å¾ˆé«˜ï¼Œæ¯ç®—ä¸€ä¸ª$dp[i][j]$ï¼Œéœ€è¦$O(k^2+m)$çš„å¤æ‚åº¦ï¼Œæ€»å¤æ‚åº¦ä¸º$O(nm(k^2+m))$ï¼Œè¿easy versionéƒ½è¿‡ä¸äº†ã€‚ ä¸è¿‡ï¼ŒåŒºé—´å¤„ç†ï¼ŸåŒºé—´æœ€å€¼ï¼Ÿæˆ‘ä»¬æƒ³åˆ°äº†çº¿æ®µæ ‘ã€‚å¦‚æœåœ¨ç®—ç¬¬$i$è¡Œæ—¶ï¼Œæˆ‘ä»¬å…ˆå¯¹ä¸Šä¸€è¡Œçš„$dp[i-1][j]$å»ºä¸€ä¸ªé•¿åº¦ä¸º$m$çš„çº¿æ®µæ ‘ï¼Œç„¶åæ¯ç®—ä¸€ä¸ª$dp[i][j]$æˆ‘ä»¬å¯¹é‚£$k$ä¸ªæ•°è¿›è¡ŒåŒºé—´å¤„ç†$-a_{i,j+t}$ï¼Œç„¶åæ±‚æœ€å€¼ã€‚æˆ‘ä»¬å°±æŠŠå•æ¬¡å¤æ‚åº¦é™åˆ°äº†$O(k\\log m)$ï¼Œæ€»å¤æ‚åº¦ä¸º$O(nmk\\log m)$ã€‚å¯¹äºeasy versionæ¥è¯´ï¼Œ$(1\\leq k\\leq20)$å·²ç»å¯ä»¥ACäº†ã€‚ ç„¶è€Œæˆ‘ä»¬è€ƒè™‘åœ¨ç¬¬$i$è¡Œä¹‹é—´åŠ¨æ€è§„åˆ’çš„æ—¶å€™ï¼Œå…¶å®å¦‚æœä½ åˆšç®—å®Œ$dp[i][j-1]$ï¼Œè¿™ä¸ªæ—¶å€™ä½ ä¼šå‘ç°ï¼Œ$dp[i][j]$è¦†ç›–çš„åŒºåŸŸä¸$dp[i][j-1]$è¦†ç›–çš„åŒºåŸŸç›¸å·®åªæœ‰æ”¶å°¾ä¸¤ä¸ªæ•°å­—ï¼Œä¹Ÿå°±æ˜¯è¯´åªéœ€è¦è¿˜åŸä¸€ä¸‹å¼€å§‹ï¼Œå¤„ç†ä¸€ä¸‹ç»“å°¾å³å¯ï¼Œé¦–ï¼š$åŒºé—´+a_{i,j-1}$ï¼Œå°¾ï¼š$åŒºé—´-a_{i,j+k-1}$ ï¼Œä¸¤æ¬¡åŒºé—´å¤„ç†å³å¯ã€‚ æ€»å¤æ‚åº¦å·²ç»$O(nm\\log m)$ï¼Œå¯ä»¥ACå…¨é¢˜äº†ã€‚ Detailså½“ç„¶å®é™…å®ç°ä¼šæœ‰ä¸€äº›ç»†èŠ‚å¤„ç†ã€‚æ¯”å¦‚ï¼š æœ€å¼€å§‹éœ€è¦é¢„å¤„ç†ä¸€ä¸‹å‰ç¼€å’Œã€‚ æˆ‘ä»¬åœ¨å»ºæ ‘çš„æ—¶å€™å°±ç›´æ¥æŠŠå‰é¢$k-1$ä¸ªé¡ºä¾¿å°±å¤„ç†äº†ï¼ˆè¿™æ ·å¸¸æ•°å°ä¸€ç‚¹ï¼‰ã€‚ è€Œä¸”æˆ‘ä»¬å…¶å®åªéœ€è¦ç»´æŠ¤$1ï½m-k+1$å³å¯ï¼Œå› ä¸ºåé¢é‚£äº›çš„é€‰äº†è‚¯å®šä¸å¦‚å‰é¢ã€‚ç­‰ç­‰ï¼Œå…·ä½“å¯ä»¥çœ‹ä»£ç ã€‚ Code123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#include &lt;bits/stdc++.h&gt;#define MAXN 55#define MAXM 20005using namespace std;struct node{ int le,ri; int mx,tag;}sgt[MAXM&lt;&lt;2];int n,m,k;int a[MAXN][MAXM],sum[MAXN][MAXM],dp[MAXN][MAXM];void build(int cur,int l,int r,int x){ sgt[cur].le=l, sgt[cur].ri=r; sgt[cur].tag=0; if(l==r-1){ sgt[cur].mx=dp[x-1][l]+sum[x][l+k-1]-sum[x][max(k-1,l-1)]; } else{ int le=cur&lt;&lt;1,ri=le+1; build(le,l,(l+r)&gt;&gt;1,x); build(ri,(l+r)&gt;&gt;1,r,x); sgt[cur].mx=max(sgt[le].mx,sgt[ri].mx); }}void update(int cur){ int le=cur&lt;&lt;1,ri=le+1; sgt[le].mx+=sgt[cur].tag; sgt[ri].mx+=sgt[cur].tag; sgt[le].tag+=sgt[cur].tag; sgt[ri].tag+=sgt[cur].tag; sgt[cur].tag=0;}void modify(int cur,int l,int r,int del){ if(l&lt;=sgt[cur].le &amp;&amp; sgt[cur].ri&lt;=r){ sgt[cur].mx+=del; sgt[cur].tag+=del; } else{ if(sgt[cur].tag) update(cur); int le=cur&lt;&lt;1,ri=le+1; int mid=(sgt[cur].le+sgt[cur].ri)&gt;&gt;1; if(l&lt;mid) modify(le,l,r,del); if(r&gt;mid) modify(ri,l,r,del); sgt[cur].mx=max(sgt[le].mx,sgt[ri].mx); }}void solve(){ scanf(\"%d %d %d\", &amp;n, &amp;m, &amp;k); for(int i=1;i&lt;=n;i++){ sum[i][0]=0; for(int j=1;j&lt;=m;j++){ scanf(\"%d\", &amp;a[i][j]); sum[i][j]=sum[i][j-1]+a[i][j]; } } for(int j=1;j&lt;=m-k+1;j++) dp[1][j]=sum[1][j+k-1]-sum[1][j-1]; for(int i=2;i&lt;=n;i++){ build(1,1,m-k+2,i); for(int j=1;j&lt;=m-k+1;j++){ modify(1,j,j+k,-a[i][j+k-1]); dp[i][j]=sgt[1].mx+sum[i][j+k-1]-sum[i][j-1]; modify(1,max(j-k+1,1),j+1,a[i][j]); } } int ans=dp[n][1]; for(int j=2;j&lt;=m;j++) ans=max(ans,dp[n][j]); printf(\"%d\\n\", ans);}int main(){ int T=1; // scanf(\"%d\", &amp;T); while(T--){ solve(); } return 0;}","link":"/Codeforces/Round-620-Div-2/CF1304F/"}],"tags":[{"name":"ç­¾åˆ°é¢˜","slug":"ç­¾åˆ°é¢˜","link":"/tags/%E7%AD%BE%E5%88%B0%E9%A2%98/"},{"name":"æœ€è¿‘å…¬å…±ç¥–å…ˆ Lowest Common Ancestors","slug":"æœ€è¿‘å…¬å…±ç¥–å…ˆ-Lowest-Common-Ancestors","link":"/tags/%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88-Lowest-Common-Ancestors/"},{"name":"å€å¢ Doubling","slug":"å€å¢-Doubling","link":"/tags/%E5%80%8D%E5%A2%9E-Doubling/"},{"name":"åŠ¨æ€è§„åˆ’ Dynamic Programming","slug":"åŠ¨æ€è§„åˆ’-Dynamic-Programming","link":"/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-Dynamic-Programming/"},{"name":"çº¿æ®µæ ‘ Segment Tree","slug":"çº¿æ®µæ ‘-Segment-Tree","link":"/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91-Segment-Tree/"},{"name":"è´ªå¿ƒ Greedy","slug":"è´ªå¿ƒ-Greedy","link":"/tags/%E8%B4%AA%E5%BF%83-Greedy/"}],"categories":[{"name":"Codeforces","slug":"Codeforces","link":"/categories/Codeforces/"},{"name":"Round 620 (Div. 2)","slug":"Codeforces/Round-620-Div-2","link":"/categories/Codeforces/Round-620-Div-2/"}]}